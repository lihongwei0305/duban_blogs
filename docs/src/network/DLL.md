# 数据链路层

1. 提供了通信过程中必须要有的`MAC`地址
2. 数据链路的建立、维护、拆除
3. 帧包装、帧传输、帧同步
4. 帧的差错恢复
5. 流量控制

## 交换机

- 盒式交换机(模块和非模块)
- 框式交换机

## 交换机数据转发过程

```text
客户端A1,客户端A2,交换机A
客户端B1,客户端B2,交换机B
客户端A1 发送数据到 客户端B1 过程:

1. 客户端A1发送数帧据到交换机A携带MAC地址
2. 交换机A查找MAC表,如果没有就学习,如果有就广播(会发送给客户端A2,交换机B)
3. 交换B接收到后,查找MAC表,如果没有就学习,如果有就广播(会发送给客户端B1,客户端B2)
4. 交换机B通过MAC表查到目的MAC客户端B1,将数据帧传递个给客户端B1
```

## 交换机数据转发原理

1. 交换机接收到数据帧后,先查看MAC地址表中是否包含源MAC地址
2. 若MAC地址表中不包含源MAC地址,则学习(将源MAC地址与收到数据帧的端口做对应关系)
3. 再次查看MAC地址表,寻找目的MAC地址
4. 若无法找到目的MAC地址,则**交换机广播该数据帧**
5. 若能够找到MAC地址,则交换机直接发生单播,无需广播了

## 老化时间

交换机的MAC地址表的老化时间为300s(可更改)

## LLDP [Link Layer Discover Prococal] 链路层发现嫌疑

- 用来发现直连的邻居信息
- lldp enable
- display lldp neighbor [brief | interface e0/0/10]

## VLAN

1. VLAN [ Virtual Local Area Network | 虚拟本地区域网络] 是不受物理位置限制的一个逻辑组
2. 为了分割广播域,隔绝广播风暴引入VLAN的概念
3. VLAN的优势及作用:
    1. 有效的控制了广播域
    2. 提高了网络安全性
    3. 提高了带宽利用率
    4. 降低了网络延迟

## VLAN的种类

1. 基于端口的静态划分
2. 基于MAC地址的动态划分
3. 基于IP子网的动态划分
4. 基于协议的动态划分
   如发生冲突,优先级: MAC -> IP -> 协议 -> 端口
